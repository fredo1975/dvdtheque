2021-12-30 01:42:02,922 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.2.0.Final
2021-12-30 01:42:03,723 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://localhost:8888
2021-12-30 01:42:04,256 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=dvdtheque-batch, profiles=[local], label=develop, version=e7a75d1a86cdcba93a15688b1acba5f465db37ea, state=null
2021-12-30 01:42:04,257 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/fredo1975/spring-cloud-server-config.git/file:C:\Users\fredo\AppData\Local\Temp\config-repo-358459055864712684\dvdtheque-batch-local.yml'}]
2021-12-30 01:42:04,299 INFO org.springframework.boot.SpringApplication [main] The following profiles are active: local
2021-12-30 01:42:05,683 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=cada7403-3cfa-327f-bf7a-4e7ce703f7df
2021-12-30 01:42:06,303 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8089 (http)
2021-12-30 01:42:06,324 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8089"]
2021-12-30 01:42:06,325 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2021-12-30 01:42:06,327 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2021-12-30 01:42:06,632 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2021-12-30 01:42:06,633 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2306 ms
2021-12-30 01:42:07,889 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@d949bc4, org.springframework.security.web.context.SecurityContextPersistenceFilter@58636b50, org.springframework.security.web.header.HeaderWriterFilter@6dc2279c, org.springframework.security.web.csrf.CsrfFilter@7221539, org.springframework.security.web.authentication.logout.LogoutFilter@2976ca51, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@e886caf, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5158a9f7, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@1c7843c3, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@7d90644f, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@7079f8f0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1ad1b737, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@67ceeffd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@121cf6f4, org.springframework.security.oauth2.client.web.OAuth2AuthorizationCodeGrantFilter@93ce24d, org.springframework.security.web.session.SessionManagementFilter@144e36ae, org.springframework.security.web.access.ExceptionTranslationFilter@63814bbe, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@dc8b2ff]
2021-12-30 01:42:07,913 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2021-12-30 01:42:08,065 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2021-12-30 01:42:08,077 INFO org.springframework.batch.core.repository.support.JobRepositoryFactoryBean [main] No database type set, using meta data indicating: MYSQL
2021-12-30 01:42:08,100 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher [main] No TaskExecutor has been set, defaulting to synchronous executor.
2021-12-30 01:42:08,445 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 15 endpoint(s) beneath base path '/actuator'
2021-12-30 01:42:08,493 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8089"]
2021-12-30 01:42:08,513 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8089 (http) with context path ''
2021-12-30 01:42:08,767 INFO org.springframework.boot.StartupInfoLogger [main] Started BatchApplication in 6.61 seconds (JVM running for 7.165)
2021-12-30 01:42:08,892 INFO org.apache.juli.logging.DirectJDKLog [main] Pausing ProtocolHandler ["http-nio-8089"]
2021-12-30 01:42:08,893 INFO org.apache.juli.logging.DirectJDKLog [main] Stopping service [Tomcat]
2021-12-30 01:42:08,897 INFO org.apache.juli.logging.DirectJDKLog [main] Stopping ProtocolHandler ["http-nio-8089"]
2021-12-30 01:42:08,900 INFO org.apache.juli.logging.DirectJDKLog [main] Destroying ProtocolHandler ["http-nio-8089"]
2021-12-30 01:42:08,906 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown initiated...
2021-12-30 01:42:08,921 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown completed.
2021-12-30 01:42:56,667 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.2.0.Final
2021-12-30 01:42:57,505 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://localhost:8888
2021-12-30 01:42:58,050 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=dvdtheque-batch, profiles=[local], label=develop, version=e7a75d1a86cdcba93a15688b1acba5f465db37ea, state=null
2021-12-30 01:42:58,052 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/fredo1975/spring-cloud-server-config.git/file:C:\Users\fredo\AppData\Local\Temp\config-repo-358459055864712684\dvdtheque-batch-local.yml'}]
2021-12-30 01:42:58,092 INFO org.springframework.boot.SpringApplication [main] The following profiles are active: local
2021-12-30 01:42:59,352 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=cada7403-3cfa-327f-bf7a-4e7ce703f7df
2021-12-30 01:42:59,848 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8089 (http)
2021-12-30 01:42:59,860 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8089"]
2021-12-30 01:42:59,861 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2021-12-30 01:42:59,862 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2021-12-30 01:43:00,022 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2021-12-30 01:43:00,024 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1907 ms
2021-12-30 01:43:01,142 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@121cf6f4, org.springframework.security.web.context.SecurityContextPersistenceFilter@1ad1b737, org.springframework.security.web.header.HeaderWriterFilter@144e36ae, org.springframework.security.web.csrf.CsrfFilter@15be68b, org.springframework.security.web.authentication.logout.LogoutFilter@6996bbc4, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@1884e671, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@4387d2f4, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@7c8f047a, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@59f3426f, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@7cdc4070, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@77d0dbba, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@72001c71, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@553fbe94, org.springframework.security.oauth2.client.web.OAuth2AuthorizationCodeGrantFilter@7079f8f0, org.springframework.security.web.session.SessionManagementFilter@58636b50, org.springframework.security.web.access.ExceptionTranslationFilter@6dc2279c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@14201a90]
2021-12-30 01:43:01,165 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2021-12-30 01:43:01,405 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2021-12-30 01:43:01,421 INFO org.springframework.batch.core.repository.support.JobRepositoryFactoryBean [main] No database type set, using meta data indicating: MYSQL
2021-12-30 01:43:01,453 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher [main] No TaskExecutor has been set, defaulting to synchronous executor.
2021-12-30 01:43:01,741 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 15 endpoint(s) beneath base path '/actuator'
2021-12-30 01:43:01,788 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8089"]
2021-12-30 01:43:01,809 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8089 (http) with context path ''
2021-12-30 01:43:01,942 INFO org.springframework.boot.StartupInfoLogger [main] Started BatchApplication in 6.06 seconds (JVM running for 6.702)
2021-12-30 01:43:02,071 INFO org.apache.juli.logging.DirectJDKLog [main] Pausing ProtocolHandler ["http-nio-8089"]
2021-12-30 01:43:02,071 INFO org.apache.juli.logging.DirectJDKLog [main] Stopping service [Tomcat]
2021-12-30 01:43:02,075 INFO org.apache.juli.logging.DirectJDKLog [main] Stopping ProtocolHandler ["http-nio-8089"]
2021-12-30 01:43:02,077 INFO org.apache.juli.logging.DirectJDKLog [main] Destroying ProtocolHandler ["http-nio-8089"]
2021-12-30 01:43:02,082 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown initiated...
2021-12-30 01:43:02,093 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown completed.
2021-12-30 01:49:13,155 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.2.0.Final
2021-12-30 01:49:14,407 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://localhost:8888
2021-12-30 01:49:15,163 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=dvdtheque-batch, profiles=[local], label=develop, version=e7a75d1a86cdcba93a15688b1acba5f465db37ea, state=null
2021-12-30 01:49:15,165 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/fredo1975/spring-cloud-server-config.git/file:C:\Users\fredo\AppData\Local\Temp\config-repo-358459055864712684\dvdtheque-batch-local.yml'}]
2021-12-30 01:49:15,186 INFO org.springframework.boot.SpringApplication [main] The following profiles are active: local
2021-12-30 01:49:17,217 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=cfd24f94-653f-301e-ab17-eac4ad26dd63
2021-12-30 01:49:18,575 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8089 (http)
2021-12-30 01:49:18,601 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8089"]
2021-12-30 01:49:18,602 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2021-12-30 01:49:18,604 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2021-12-30 01:49:18,895 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2021-12-30 01:49:18,895 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 3686 ms
2021-12-30 01:49:19,369 INFO fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration [main] ########### exportFilmsJob
2021-12-30 01:49:19,371 INFO fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration [main] ########### exportFilmsStep
2021-12-30 01:49:19,377 INFO fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration [main] ########### ListItemReader
2021-12-30 01:49:19,380 WARN org.springframework.context.support.AbstractApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jobInvokerController': Unsatisfied dependency expressed through field 'exportFilmsJob'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'exportFilmsJob' defined in class path resource [fr/fredos/dvdtheque/batch/configuration/BatchExportFilmsConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.batch.core.Job]: Factory method 'exportFilmsJob' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'exportFilmsStep' defined in class path resource [fr/fredos/dvdtheque/batch/configuration/BatchExportFilmsConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.batch.core.Step]: Factory method 'exportFilmsStep' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dvdthequeServiceFilmReader' defined in class path resource [fr/fredos/dvdtheque/batch/configuration/BatchExportFilmsConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.batch.item.support.ListItemReader]: Factory method 'dvdthequeServiceFilmReader' threw exception; nested exception is java.lang.IllegalArgumentException: Could not find ClientRegistration with id 'okta'
2021-12-30 01:49:19,385 INFO org.apache.juli.logging.DirectJDKLog [main] Stopping service [Tomcat]
2021-12-30 01:49:19,424 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2021-12-30 01:49:19,452 ERROR org.springframework.boot.SpringApplication [main] Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jobInvokerController': Unsatisfied dependency expressed through field 'exportFilmsJob'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'exportFilmsJob' defined in class path resource [fr/fredos/dvdtheque/batch/configuration/BatchExportFilmsConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.batch.core.Job]: Factory method 'exportFilmsJob' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'exportFilmsStep' defined in class path resource [fr/fredos/dvdtheque/batch/configuration/BatchExportFilmsConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.batch.core.Step]: Factory method 'exportFilmsStep' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dvdthequeServiceFilmReader' defined in class path resource [fr/fredos/dvdtheque/batch/configuration/BatchExportFilmsConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.batch.item.support.ListItemReader]: Factory method 'dvdthequeServiceFilmReader' threw exception; nested exception is java.lang.IllegalArgumentException: Could not find ClientRegistration with id 'okta'
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:765)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:445)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:338)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at fr.fredos.dvdtheque.batch.BatchApplication.main(BatchApplication.java:14)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'exportFilmsJob' defined in class path resource [fr/fredos/dvdtheque/batch/configuration/BatchExportFilmsConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.batch.core.Job]: Factory method 'exportFilmsJob' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'exportFilmsStep' defined in class path resource [fr/fredos/dvdtheque/batch/configuration/BatchExportFilmsConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.batch.core.Step]: Factory method 'exportFilmsStep' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dvdthequeServiceFilmReader' defined in class path resource [fr/fredos/dvdtheque/batch/configuration/BatchExportFilmsConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.batch.item.support.ListItemReader]: Factory method 'dvdthequeServiceFilmReader' threw exception; nested exception is java.lang.IllegalArgumentException: Could not find ClientRegistration with id 'okta'
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:353)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:656)
	... 20 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.batch.core.Job]: Factory method 'exportFilmsJob' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'exportFilmsStep' defined in class path resource [fr/fredos/dvdtheque/batch/configuration/BatchExportFilmsConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.batch.core.Step]: Factory method 'exportFilmsStep' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dvdthequeServiceFilmReader' defined in class path resource [fr/fredos/dvdtheque/batch/configuration/BatchExportFilmsConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.batch.item.support.ListItemReader]: Factory method 'dvdthequeServiceFilmReader' threw exception; nested exception is java.lang.IllegalArgumentException: Could not find ClientRegistration with id 'okta'
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	... 31 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'exportFilmsStep' defined in class path resource [fr/fredos/dvdtheque/batch/configuration/BatchExportFilmsConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.batch.core.Step]: Factory method 'exportFilmsStep' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dvdthequeServiceFilmReader' defined in class path resource [fr/fredos/dvdtheque/batch/configuration/BatchExportFilmsConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.batch.item.support.ListItemReader]: Factory method 'dvdthequeServiceFilmReader' threw exception; nested exception is java.lang.IllegalArgumentException: Could not find ClientRegistration with id 'okta'
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:353)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.resolveBeanReference(ConfigurationClassEnhancer.java:362)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:334)
	at fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration$$EnhancerBySpringCGLIB$$32e8fc2a.exportFilmsStep(<generated>)
	at fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration.exportFilmsJob(BatchExportFilmsConfiguration.java:65)
	at fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration$$EnhancerBySpringCGLIB$$32e8fc2a.CGLIB$exportFilmsJob$1(<generated>)
	at fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration$$EnhancerBySpringCGLIB$$32e8fc2a$$FastClassBySpringCGLIB$$b42eb937.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)
	at fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration$$EnhancerBySpringCGLIB$$32e8fc2a.exportFilmsJob(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)
	... 32 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.batch.core.Step]: Factory method 'exportFilmsStep' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dvdthequeServiceFilmReader' defined in class path resource [fr/fredos/dvdtheque/batch/configuration/BatchExportFilmsConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.batch.item.support.ListItemReader]: Factory method 'dvdthequeServiceFilmReader' threw exception; nested exception is java.lang.IllegalArgumentException: Could not find ClientRegistration with id 'okta'
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	... 53 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dvdthequeServiceFilmReader' defined in class path resource [fr/fredos/dvdtheque/batch/configuration/BatchExportFilmsConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.batch.item.support.ListItemReader]: Factory method 'dvdthequeServiceFilmReader' threw exception; nested exception is java.lang.IllegalArgumentException: Could not find ClientRegistration with id 'okta'
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:353)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.resolveBeanReference(ConfigurationClassEnhancer.java:362)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:334)
	at fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration$$EnhancerBySpringCGLIB$$32e8fc2a.dvdthequeServiceFilmReader(<generated>)
	at fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration.exportFilmsStep(BatchExportFilmsConfiguration.java:127)
	at fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration$$EnhancerBySpringCGLIB$$32e8fc2a.CGLIB$exportFilmsStep$0(<generated>)
	at fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration$$EnhancerBySpringCGLIB$$32e8fc2a$$FastClassBySpringCGLIB$$b42eb937.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)
	at fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration$$EnhancerBySpringCGLIB$$32e8fc2a.exportFilmsStep(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)
	... 54 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.batch.item.support.ListItemReader]: Factory method 'dvdthequeServiceFilmReader' threw exception; nested exception is java.lang.IllegalArgumentException: Could not find ClientRegistration with id 'okta'
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	... 75 common frames omitted
Caused by: java.lang.IllegalArgumentException: Could not find ClientRegistration with id 'okta'
	at org.springframework.util.Assert.notNull(Assert.java:201)
	at org.springframework.security.oauth2.client.AuthorizedClientServiceOAuth2AuthorizedClientManager.authorize(AuthorizedClientServiceOAuth2AuthorizedClientManager.java:128)
	at fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration.dvdthequeServiceFilmReader(BatchExportFilmsConfiguration.java:79)
	at fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration$$EnhancerBySpringCGLIB$$32e8fc2a.CGLIB$dvdthequeServiceFilmReader$3(<generated>)
	at fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration$$EnhancerBySpringCGLIB$$32e8fc2a$$FastClassBySpringCGLIB$$b42eb937.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)
	at fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration$$EnhancerBySpringCGLIB$$32e8fc2a.dvdthequeServiceFilmReader(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)
	... 76 common frames omitted
2021-12-30 01:50:06,300 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.2.0.Final
2021-12-30 01:50:07,415 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://localhost:8888
2021-12-30 01:50:07,994 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=dvdtheque-batch, profiles=[local], label=develop, version=e7a75d1a86cdcba93a15688b1acba5f465db37ea, state=null
2021-12-30 01:50:07,996 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/fredo1975/spring-cloud-server-config.git/file:C:\Users\fredo\AppData\Local\Temp\config-repo-358459055864712684\dvdtheque-batch-local.yml'}]
2021-12-30 01:50:08,015 INFO org.springframework.boot.SpringApplication [main] The following profiles are active: local
2021-12-30 01:50:09,647 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=cfd24f94-653f-301e-ab17-eac4ad26dd63
2021-12-30 01:50:10,744 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8089 (http)
2021-12-30 01:50:10,758 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8089"]
2021-12-30 01:50:10,760 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2021-12-30 01:50:10,760 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2021-12-30 01:50:10,999 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2021-12-30 01:50:11,000 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2968 ms
2021-12-30 01:50:11,907 INFO fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration [main] ########### exportFilmsJob
2021-12-30 01:50:11,914 INFO fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration [main] ########### exportFilmsStep
2021-12-30 01:50:12,006 INFO fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration [main] ########### ListItemReader
2021-12-30 01:50:12,217 INFO fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration [main] Issued: 2021-12-30T00:50:12.216473400Z, Expires:2021-12-30T00:55:12.216473400Z
2021-12-30 01:50:12,218 INFO fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration [main] Scopes: [profile, email]
2021-12-30 01:50:12,219 INFO fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration [main] Token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJKdEFrSUhjVVVuZXJyUVJaQV9nQm9pQkVSak1DNXB5OE9MQ1h4TlVvQnpZIn0.eyJleHAiOjE2NDA4MjU3MTIsImlhdCI6MTY0MDgyNTQxMiwianRpIjoiN2I4MDRlZjYtOWFjYi00YzkzLWI4ZTYtYWEyYTg5N2VhMDdkIiwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo4MDgwL2F1dGgvcmVhbG1zL2R2ZHRoZXF1ZSIsImF1ZCI6ImFjY291bnQiLCJzdWIiOiIzMmQ0NjZjNy0zNDYxLTQzNjItOTlmNy02ZmY4MGY4ZmUzOWUiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkdmR0aGVxdWUtYXBpIiwiYWNyIjoiMSIsImFsbG93ZWQtb3JpZ2lucyI6WyJodHRwOi8vbG9jYWxob3N0OjgwODMvIl0sInJlYWxtX2FjY2VzcyI6eyJyb2xlcyI6WyJvZmZsaW5lX2FjY2VzcyIsImRlZmF1bHQtcm9sZXMtZHZkdGhlcXVlIiwidW1hX2F1dGhvcml6YXRpb24iXX0sInJlc291cmNlX2FjY2VzcyI6eyJkdmR0aGVxdWUtYXBpIjp7InJvbGVzIjpbInVtYV9wcm90ZWN0aW9uIl19LCJhY2NvdW50Ijp7InJvbGVzIjpbIm1hbmFnZS1hY2NvdW50IiwibWFuYWdlLWFjY291bnQtbGlua3MiLCJ2aWV3LXByb2ZpbGUiXX19LCJzY29wZSI6ImVtYWlsIHByb2ZpbGUiLCJlbWFpbF92ZXJpZmllZCI6ZmFsc2UsImNsaWVudElkIjoiZHZkdGhlcXVlLWFwaSIsImNsaWVudEhvc3QiOiIxMjcuMC4wLjEiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJzZXJ2aWNlLWFjY291bnQtZHZkdGhlcXVlLWFwaSIsImNsaWVudEFkZHJlc3MiOiIxMjcuMC4wLjEifQ.BfdAsFDfixCm8GpD5jypFUz8h9Idg1f128pHJz-rVtva85Vgj8FKAZFATzA0hmZ3s-15WtjDWG4JbH3pNROXRlerIXd3HDm4Mv54GTZ9R0C1L5hjTgkPwnaugcNZk8go18tDI15Prn-ZNkESXPSw74WrxNFmQHmwEEbOlUkE1zkRm6Ymc9lcs7v9S8YCjhYJOtbTTj7oQcE7NwgyV-ZwCbSN7onrjc-VqcPgnAc6nNUUXGYYiOlM8fTO1Ltr0Xuv27rHpIIcw50vh_uCqbxaP7LVHTbextoYNfUpYy4xzGAK4aeimOT1P9Ld8dvsE2bj9RhfiOtadfN3chOFlI9JtQ
2021-12-30 01:50:14,519 ERROR fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration [main] I/O error on GET request for "http://fake/dvdtheque-service/films/": fake; nested exception is java.net.UnknownHostException: fake
org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://fake/dvdtheque-service/films/": fake; nested exception is java.net.UnknownHostException: fake
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:785)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:631)
	at fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration.dvdthequeServiceFilmReader(BatchExportFilmsConfiguration.java:97)
	at fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration$$EnhancerBySpringCGLIB$$1b2458ca.CGLIB$dvdthequeServiceFilmReader$4(<generated>)
	at fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration$$EnhancerBySpringCGLIB$$1b2458ca$$FastClassBySpringCGLIB$$7841144d.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)
	at fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration$$EnhancerBySpringCGLIB$$1b2458ca.dvdthequeServiceFilmReader(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:353)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.resolveBeanReference(ConfigurationClassEnhancer.java:362)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:334)
	at fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration$$EnhancerBySpringCGLIB$$1b2458ca.dvdthequeServiceFilmReader(<generated>)
	at fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration.exportFilmsStep(BatchExportFilmsConfiguration.java:127)
	at fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration$$EnhancerBySpringCGLIB$$1b2458ca.CGLIB$exportFilmsStep$2(<generated>)
	at fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration$$EnhancerBySpringCGLIB$$1b2458ca$$FastClassBySpringCGLIB$$7841144d.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)
	at fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration$$EnhancerBySpringCGLIB$$1b2458ca.exportFilmsStep(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:353)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.resolveBeanReference(ConfigurationClassEnhancer.java:362)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:334)
	at fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration$$EnhancerBySpringCGLIB$$1b2458ca.exportFilmsStep(<generated>)
	at fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration.exportFilmsJob(BatchExportFilmsConfiguration.java:65)
	at fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration$$EnhancerBySpringCGLIB$$1b2458ca.CGLIB$exportFilmsJob$1(<generated>)
	at fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration$$EnhancerBySpringCGLIB$$1b2458ca$$FastClassBySpringCGLIB$$7841144d.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)
	at fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration$$EnhancerBySpringCGLIB$$1b2458ca.exportFilmsJob(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:353)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:656)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:765)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:445)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:338)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at fr.fredos.dvdtheque.batch.BatchApplication.main(BatchApplication.java:14)
Caused by: java.net.UnknownHostException: fake
	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:220)
	at java.base/java.net.Socket.connect(Socket.java:591)
	at java.base/java.net.Socket.connect(Socket.java:540)
	at java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:182)
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:474)
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:569)
	at java.base/sun.net.www.http.HttpClient.<init>(HttpClient.java:242)
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:341)
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:362)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1242)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1181)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1075)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:1009)
	at org.springframework.http.client.SimpleBufferingClientHttpRequest.executeInternal(SimpleBufferingClientHttpRequest.java:76)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:776)
	... 89 common frames omitted
2021-12-30 01:50:14,533 INFO fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration [main] ########### excelFilmWriter
2021-12-30 01:50:16,341 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6ebbc06, org.springframework.security.web.context.SecurityContextPersistenceFilter@d4ecdb0, org.springframework.security.web.header.HeaderWriterFilter@5996d6f2, org.springframework.security.web.csrf.CsrfFilter@6921cfa, org.springframework.security.web.authentication.logout.LogoutFilter@61c5fd78, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@70c31b17, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@4cf230bf, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@24018c8b, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@4eb1943b, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@50672905, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7a117dc2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6a902015, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@430d3021, org.springframework.security.oauth2.client.web.OAuth2AuthorizationCodeGrantFilter@11015ca0, org.springframework.security.web.session.SessionManagementFilter@5f3f57ff, org.springframework.security.web.access.ExceptionTranslationFilter@45fb2354, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@21ea1d9d]
2021-12-30 01:50:16,373 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2021-12-30 01:50:16,582 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2021-12-30 01:50:16,676 INFO org.springframework.batch.core.repository.support.JobRepositoryFactoryBean [main] No database type set, using meta data indicating: MYSQL
2021-12-30 01:50:16,717 INFO org.springframework.batch.core.launch.support.SimpleJobLauncher [main] No TaskExecutor has been set, defaulting to synchronous executor.
2021-12-30 01:50:17,773 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 15 endpoint(s) beneath base path '/actuator'
2021-12-30 01:50:17,870 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8089"]
2021-12-30 01:50:17,904 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8089 (http) with context path ''
2021-12-30 01:50:18,099 INFO org.springframework.boot.StartupInfoLogger [main] Started BatchApplication in 12.619 seconds (JVM running for 13.473)
2021-12-30 01:50:18,520 INFO org.apache.juli.logging.DirectJDKLog [main] Pausing ProtocolHandler ["http-nio-8089"]
2021-12-30 01:50:18,521 INFO org.apache.juli.logging.DirectJDKLog [main] Stopping service [Tomcat]
2021-12-30 01:50:18,530 INFO org.apache.juli.logging.DirectJDKLog [main] Stopping ProtocolHandler ["http-nio-8089"]
2021-12-30 01:50:18,533 INFO org.apache.juli.logging.DirectJDKLog [main] Destroying ProtocolHandler ["http-nio-8089"]
2021-12-30 01:50:18,538 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown initiated...
2021-12-30 01:50:18,585 INFO com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown completed.
2021-12-30 01:51:04,789 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.2.0.Final
2021-12-30 01:51:05,836 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://localhost:8888
2021-12-30 01:51:06,670 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=dvdtheque-batch, profiles=[local], label=develop, version=0802d0ec89fdf41044cc23f4f610caa152589de7, state=null
2021-12-30 01:51:06,672 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/fredo1975/spring-cloud-server-config.git/file:C:\Users\fredo\AppData\Local\Temp\config-repo-358459055864712684\dvdtheque-batch-local.yml'}]
2021-12-30 01:51:06,752 INFO org.springframework.boot.SpringApplication [main] The following profiles are active: local
2021-12-30 01:51:08,524 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=c0b7960c-0e91-30af-ba61-0f426c680542
2021-12-30 01:51:09,337 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8089 (http)
2021-12-30 01:51:09,353 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8089"]
2021-12-30 01:51:09,354 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2021-12-30 01:51:09,355 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2021-12-30 01:51:09,621 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2021-12-30 01:51:09,622 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2845 ms
2021-12-30 01:51:10,142 INFO fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration [main] ########### exportFilmsJob
2021-12-30 01:51:10,146 INFO fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration [main] ########### exportFilmsStep
2021-12-30 01:51:10,157 INFO fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration [main] ########### ListItemReader
2021-12-30 01:51:10,190 INFO fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration [main] Issued: 2021-12-30T00:51:10.189389600Z, Expires:2021-12-30T00:56:10.189389600Z
2021-12-30 01:51:10,191 INFO fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration [main] Scopes: [profile, email]
2021-12-30 01:51:10,192 INFO fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration [main] Token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJKdEFrSUhjVVVuZXJyUVJaQV9nQm9pQkVSak1DNXB5OE9MQ1h4TlVvQnpZIn0.eyJleHAiOjE2NDA4MjU3NzAsImlhdCI6MTY0MDgyNTQ3MCwianRpIjoiMzU1ODFhYjUtMmFhOS00ZGYwLTg3NDItYjUyZmRmNWY1NGM1IiwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo4MDgwL2F1dGgvcmVhbG1zL2R2ZHRoZXF1ZSIsImF1ZCI6ImFjY291bnQiLCJzdWIiOiIzMmQ0NjZjNy0zNDYxLTQzNjItOTlmNy02ZmY4MGY4ZmUzOWUiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkdmR0aGVxdWUtYXBpIiwiYWNyIjoiMSIsImFsbG93ZWQtb3JpZ2lucyI6WyJodHRwOi8vbG9jYWxob3N0OjgwODMvIl0sInJlYWxtX2FjY2VzcyI6eyJyb2xlcyI6WyJvZmZsaW5lX2FjY2VzcyIsImRlZmF1bHQtcm9sZXMtZHZkdGhlcXVlIiwidW1hX2F1dGhvcml6YXRpb24iXX0sInJlc291cmNlX2FjY2VzcyI6eyJkdmR0aGVxdWUtYXBpIjp7InJvbGVzIjpbInVtYV9wcm90ZWN0aW9uIl19LCJhY2NvdW50Ijp7InJvbGVzIjpbIm1hbmFnZS1hY2NvdW50IiwibWFuYWdlLWFjY291bnQtbGlua3MiLCJ2aWV3LXByb2ZpbGUiXX19LCJzY29wZSI6ImVtYWlsIHByb2ZpbGUiLCJlbWFpbF92ZXJpZmllZCI6ZmFsc2UsImNsaWVudElkIjoiZHZkdGhlcXVlLWFwaSIsImNsaWVudEhvc3QiOiIxMjcuMC4wLjEiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJzZXJ2aWNlLWFjY291bnQtZHZkdGhlcXVlLWFwaSIsImNsaWVudEFkZHJlc3MiOiIxMjcuMC4wLjEifQ.StUzZchLj-l1sM8BVGgRsF2FpgVyqWO7EVPpd7Oh9YCNmntOBJMqYrrwKRVlGE4DcilVbKCcB3Bm49ERN4awrvepn2vVd89hbIjcInovCBxQBtU7SQlKLYaAD0K-IwdO4kVyNZUJfjsii7HbHv9CvKNiooHbKJcPL33SXqMjoc8w8FX2QUrVJvRi5IYbUqHy3xC_GKoXZL_OxrWG_cho4JyDH_eb-z3pj8aMQUbEeRF9yIbvDH7Zuvrcc4nOIeAQohUrJVOBhT0yoJ1W4Z-1m8_Vzn83cxbAjvNnKd1WnwFYuwrCXGBy4R8OZ8jS3kUkk4n_Xl6leGhgO8rsFhe24Q
2021-12-30 01:51:10,249 WARN org.springframework.context.support.AbstractApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jobInvokerController': Unsatisfied dependency expressed through field 'exportFilmsJob'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'exportFilmsJob' defined in class path resource [fr/fredos/dvdtheque/batch/configuration/BatchExportFilmsConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.batch.core.Job]: Factory method 'exportFilmsJob' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'exportFilmsStep' defined in class path resource [fr/fredos/dvdtheque/batch/configuration/BatchExportFilmsConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.batch.core.Step]: Factory method 'exportFilmsStep' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dvdthequeServiceFilmReader' defined in class path resource [fr/fredos/dvdtheque/batch/configuration/BatchExportFilmsConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.batch.item.support.ListItemReader]: Factory method 'dvdthequeServiceFilmReader' threw exception; nested exception is org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 Internal Server Error: "{"status":"INTERNAL_SERVER_ERROR","timestamp":"30-12-2021 01:51:10","message":"Accès refusé","debugMessage":null,"subErrors":null}"
2021-12-30 01:51:10,251 INFO org.apache.juli.logging.DirectJDKLog [main] Stopping service [Tomcat]
2021-12-30 01:51:10,320 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2021-12-30 01:51:10,393 ERROR org.springframework.boot.SpringApplication [main] Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jobInvokerController': Unsatisfied dependency expressed through field 'exportFilmsJob'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'exportFilmsJob' defined in class path resource [fr/fredos/dvdtheque/batch/configuration/BatchExportFilmsConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.batch.core.Job]: Factory method 'exportFilmsJob' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'exportFilmsStep' defined in class path resource [fr/fredos/dvdtheque/batch/configuration/BatchExportFilmsConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.batch.core.Step]: Factory method 'exportFilmsStep' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dvdthequeServiceFilmReader' defined in class path resource [fr/fredos/dvdtheque/batch/configuration/BatchExportFilmsConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.batch.item.support.ListItemReader]: Factory method 'dvdthequeServiceFilmReader' threw exception; nested exception is org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 Internal Server Error: "{"status":"INTERNAL_SERVER_ERROR","timestamp":"30-12-2021 01:51:10","message":"Accès refusé","debugMessage":null,"subErrors":null}"
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:765)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:445)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:338)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at fr.fredos.dvdtheque.batch.BatchApplication.main(BatchApplication.java:14)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'exportFilmsJob' defined in class path resource [fr/fredos/dvdtheque/batch/configuration/BatchExportFilmsConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.batch.core.Job]: Factory method 'exportFilmsJob' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'exportFilmsStep' defined in class path resource [fr/fredos/dvdtheque/batch/configuration/BatchExportFilmsConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.batch.core.Step]: Factory method 'exportFilmsStep' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dvdthequeServiceFilmReader' defined in class path resource [fr/fredos/dvdtheque/batch/configuration/BatchExportFilmsConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.batch.item.support.ListItemReader]: Factory method 'dvdthequeServiceFilmReader' threw exception; nested exception is org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 Internal Server Error: "{"status":"INTERNAL_SERVER_ERROR","timestamp":"30-12-2021 01:51:10","message":"Accès refusé","debugMessage":null,"subErrors":null}"
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:353)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:656)
	... 20 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.batch.core.Job]: Factory method 'exportFilmsJob' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'exportFilmsStep' defined in class path resource [fr/fredos/dvdtheque/batch/configuration/BatchExportFilmsConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.batch.core.Step]: Factory method 'exportFilmsStep' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dvdthequeServiceFilmReader' defined in class path resource [fr/fredos/dvdtheque/batch/configuration/BatchExportFilmsConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.batch.item.support.ListItemReader]: Factory method 'dvdthequeServiceFilmReader' threw exception; nested exception is org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 Internal Server Error: "{"status":"INTERNAL_SERVER_ERROR","timestamp":"30-12-2021 01:51:10","message":"Accès refusé","debugMessage":null,"subErrors":null}"
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	... 31 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'exportFilmsStep' defined in class path resource [fr/fredos/dvdtheque/batch/configuration/BatchExportFilmsConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.batch.core.Step]: Factory method 'exportFilmsStep' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dvdthequeServiceFilmReader' defined in class path resource [fr/fredos/dvdtheque/batch/configuration/BatchExportFilmsConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.batch.item.support.ListItemReader]: Factory method 'dvdthequeServiceFilmReader' threw exception; nested exception is org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 Internal Server Error: "{"status":"INTERNAL_SERVER_ERROR","timestamp":"30-12-2021 01:51:10","message":"Accès refusé","debugMessage":null,"subErrors":null}"
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:353)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.resolveBeanReference(ConfigurationClassEnhancer.java:362)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:334)
	at fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration$$EnhancerBySpringCGLIB$$432feda9.exportFilmsStep(<generated>)
	at fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration.exportFilmsJob(BatchExportFilmsConfiguration.java:65)
	at fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration$$EnhancerBySpringCGLIB$$432feda9.CGLIB$exportFilmsJob$2(<generated>)
	at fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration$$EnhancerBySpringCGLIB$$432feda9$$FastClassBySpringCGLIB$$fc76c7c3.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)
	at fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration$$EnhancerBySpringCGLIB$$432feda9.exportFilmsJob(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)
	... 32 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.batch.core.Step]: Factory method 'exportFilmsStep' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dvdthequeServiceFilmReader' defined in class path resource [fr/fredos/dvdtheque/batch/configuration/BatchExportFilmsConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.batch.item.support.ListItemReader]: Factory method 'dvdthequeServiceFilmReader' threw exception; nested exception is org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 Internal Server Error: "{"status":"INTERNAL_SERVER_ERROR","timestamp":"30-12-2021 01:51:10","message":"Accès refusé","debugMessage":null,"subErrors":null}"
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	... 53 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dvdthequeServiceFilmReader' defined in class path resource [fr/fredos/dvdtheque/batch/configuration/BatchExportFilmsConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.batch.item.support.ListItemReader]: Factory method 'dvdthequeServiceFilmReader' threw exception; nested exception is org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 Internal Server Error: "{"status":"INTERNAL_SERVER_ERROR","timestamp":"30-12-2021 01:51:10","message":"Accès refusé","debugMessage":null,"subErrors":null}"
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:353)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.resolveBeanReference(ConfigurationClassEnhancer.java:362)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:334)
	at fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration$$EnhancerBySpringCGLIB$$432feda9.dvdthequeServiceFilmReader(<generated>)
	at fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration.exportFilmsStep(BatchExportFilmsConfiguration.java:127)
	at fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration$$EnhancerBySpringCGLIB$$432feda9.CGLIB$exportFilmsStep$1(<generated>)
	at fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration$$EnhancerBySpringCGLIB$$432feda9$$FastClassBySpringCGLIB$$fc76c7c3.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)
	at fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration$$EnhancerBySpringCGLIB$$432feda9.exportFilmsStep(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)
	... 54 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.batch.item.support.ListItemReader]: Factory method 'dvdthequeServiceFilmReader' threw exception; nested exception is org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 Internal Server Error: "{"status":"INTERNAL_SERVER_ERROR","timestamp":"30-12-2021 01:51:10","message":"Accès refusé","debugMessage":null,"subErrors":null}"
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	... 75 common frames omitted
Caused by: org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 Internal Server Error: "{"status":"INTERNAL_SERVER_ERROR","timestamp":"30-12-2021 01:51:10","message":"Accès refusé","debugMessage":null,"subErrors":null}"
	at org.springframework.web.client.HttpServerErrorException.create(HttpServerErrorException.java:100)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:170)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:122)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:819)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:777)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:631)
	at fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration.dvdthequeServiceFilmReader(BatchExportFilmsConfiguration.java:97)
	at fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration$$EnhancerBySpringCGLIB$$432feda9.CGLIB$dvdthequeServiceFilmReader$0(<generated>)
	at fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration$$EnhancerBySpringCGLIB$$432feda9$$FastClassBySpringCGLIB$$fc76c7c3.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)
	at fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration$$EnhancerBySpringCGLIB$$432feda9.dvdthequeServiceFilmReader(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)
	... 76 common frames omitted
2021-12-30 01:52:05,319 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.2.0.Final
2021-12-30 01:52:06,484 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://localhost:8888
2021-12-30 01:52:07,060 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=dvdtheque-batch, profiles=[local], label=develop, version=0802d0ec89fdf41044cc23f4f610caa152589de7, state=null
2021-12-30 01:52:07,061 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/fredo1975/spring-cloud-server-config.git/file:C:\Users\fredo\AppData\Local\Temp\config-repo-358459055864712684\dvdtheque-batch-local.yml'}]
2021-12-30 01:52:07,081 INFO org.springframework.boot.SpringApplication [main] The following profiles are active: local
2021-12-30 01:52:08,829 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=c0b7960c-0e91-30af-ba61-0f426c680542
2021-12-30 01:52:10,163 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8089 (http)
2021-12-30 01:52:10,182 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8089"]
2021-12-30 01:52:10,183 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2021-12-30 01:52:10,185 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2021-12-30 01:52:10,434 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2021-12-30 01:52:10,434 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 3337 ms
2021-12-30 01:52:10,808 INFO fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration [main] ########### exportFilmsJob
2021-12-30 01:52:10,811 INFO fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration [main] ########### exportFilmsStep
2021-12-30 01:52:10,817 INFO fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration [main] ########### ListItemReader
2021-12-30 01:52:10,844 INFO fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration [main] Issued: 2021-12-30T00:52:10.842647700Z, Expires:2021-12-30T00:57:10.842647700Z
2021-12-30 01:52:10,846 INFO fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration [main] Scopes: [profile, email]
2021-12-30 01:52:10,847 INFO fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration [main] Token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJKdEFrSUhjVVVuZXJyUVJaQV9nQm9pQkVSak1DNXB5OE9MQ1h4TlVvQnpZIn0.eyJleHAiOjE2NDA4MjU4MzAsImlhdCI6MTY0MDgyNTUzMCwianRpIjoiNDE3ZmU5OTMtNTFhMi00NjBiLTk1NzctYjk3ZGJhYzFkNDQzIiwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo4MDgwL2F1dGgvcmVhbG1zL2R2ZHRoZXF1ZSIsImF1ZCI6ImFjY291bnQiLCJzdWIiOiIzMmQ0NjZjNy0zNDYxLTQzNjItOTlmNy02ZmY4MGY4ZmUzOWUiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkdmR0aGVxdWUtYXBpIiwiYWNyIjoiMSIsImFsbG93ZWQtb3JpZ2lucyI6WyJodHRwOi8vbG9jYWxob3N0OjgwODMvIl0sInJlYWxtX2FjY2VzcyI6eyJyb2xlcyI6WyJvZmZsaW5lX2FjY2VzcyIsImRlZmF1bHQtcm9sZXMtZHZkdGhlcXVlIiwidW1hX2F1dGhvcml6YXRpb24iXX0sInJlc291cmNlX2FjY2VzcyI6eyJkdmR0aGVxdWUtYXBpIjp7InJvbGVzIjpbInVtYV9wcm90ZWN0aW9uIl19LCJhY2NvdW50Ijp7InJvbGVzIjpbIm1hbmFnZS1hY2NvdW50IiwibWFuYWdlLWFjY291bnQtbGlua3MiLCJ2aWV3LXByb2ZpbGUiXX19LCJzY29wZSI6ImVtYWlsIHByb2ZpbGUiLCJlbWFpbF92ZXJpZmllZCI6ZmFsc2UsImNsaWVudElkIjoiZHZkdGhlcXVlLWFwaSIsImNsaWVudEhvc3QiOiIxMjcuMC4wLjEiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJzZXJ2aWNlLWFjY291bnQtZHZkdGhlcXVlLWFwaSIsImNsaWVudEFkZHJlc3MiOiIxMjcuMC4wLjEifQ.N1cxSlixnV37wCdiA4FOkGhzUjJGzdQEieKGlRQZ-P5I3ou0_50aRBpDvvtw6L69btmK1hkZh9_4aiaLwOmcz3SWaYYKC_UoDENWEg99643GqJSq5I2zo1krRERk2o8jCCRgbXJn237sWtdFb6opW60ufmX1BDojci0F87j97vHUC3MPJ8qmcgeJaHpjpvv0horOzNfBvtyDXF62d1o6U3cFyUzz52OADYYopSCzuWywiZ3bRL4gMCwuFqcw7cQ5OJRUN8OjuO5HkT3IjIsXa-xSWIMmhhcOzgEtlqTemCVY3_dMpj1QwtgpN4phiHqU4pxDK0SN5v23GmohAaG54w
2021-12-30 01:52:10,889 WARN org.springframework.context.support.AbstractApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jobInvokerController': Unsatisfied dependency expressed through field 'exportFilmsJob'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'exportFilmsJob' defined in class path resource [fr/fredos/dvdtheque/batch/configuration/BatchExportFilmsConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.batch.core.Job]: Factory method 'exportFilmsJob' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'exportFilmsStep' defined in class path resource [fr/fredos/dvdtheque/batch/configuration/BatchExportFilmsConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.batch.core.Step]: Factory method 'exportFilmsStep' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dvdthequeServiceFilmReader' defined in class path resource [fr/fredos/dvdtheque/batch/configuration/BatchExportFilmsConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.batch.item.support.ListItemReader]: Factory method 'dvdthequeServiceFilmReader' threw exception; nested exception is org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 Internal Server Error: "{"status":"INTERNAL_SERVER_ERROR","timestamp":"30-12-2021 01:52:10","message":"Accès refusé","debugMessage":null,"subErrors":null}"
2021-12-30 01:52:10,892 INFO org.apache.juli.logging.DirectJDKLog [main] Stopping service [Tomcat]
2021-12-30 01:52:10,946 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2021-12-30 01:52:11,101 ERROR org.springframework.boot.SpringApplication [main] Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jobInvokerController': Unsatisfied dependency expressed through field 'exportFilmsJob'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'exportFilmsJob' defined in class path resource [fr/fredos/dvdtheque/batch/configuration/BatchExportFilmsConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.batch.core.Job]: Factory method 'exportFilmsJob' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'exportFilmsStep' defined in class path resource [fr/fredos/dvdtheque/batch/configuration/BatchExportFilmsConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.batch.core.Step]: Factory method 'exportFilmsStep' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dvdthequeServiceFilmReader' defined in class path resource [fr/fredos/dvdtheque/batch/configuration/BatchExportFilmsConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.batch.item.support.ListItemReader]: Factory method 'dvdthequeServiceFilmReader' threw exception; nested exception is org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 Internal Server Error: "{"status":"INTERNAL_SERVER_ERROR","timestamp":"30-12-2021 01:52:10","message":"Accès refusé","debugMessage":null,"subErrors":null}"
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:765)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:445)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:338)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at fr.fredos.dvdtheque.batch.BatchApplication.main(BatchApplication.java:14)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'exportFilmsJob' defined in class path resource [fr/fredos/dvdtheque/batch/configuration/BatchExportFilmsConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.batch.core.Job]: Factory method 'exportFilmsJob' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'exportFilmsStep' defined in class path resource [fr/fredos/dvdtheque/batch/configuration/BatchExportFilmsConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.batch.core.Step]: Factory method 'exportFilmsStep' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dvdthequeServiceFilmReader' defined in class path resource [fr/fredos/dvdtheque/batch/configuration/BatchExportFilmsConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.batch.item.support.ListItemReader]: Factory method 'dvdthequeServiceFilmReader' threw exception; nested exception is org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 Internal Server Error: "{"status":"INTERNAL_SERVER_ERROR","timestamp":"30-12-2021 01:52:10","message":"Accès refusé","debugMessage":null,"subErrors":null}"
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:353)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:656)
	... 20 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.batch.core.Job]: Factory method 'exportFilmsJob' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'exportFilmsStep' defined in class path resource [fr/fredos/dvdtheque/batch/configuration/BatchExportFilmsConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.batch.core.Step]: Factory method 'exportFilmsStep' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dvdthequeServiceFilmReader' defined in class path resource [fr/fredos/dvdtheque/batch/configuration/BatchExportFilmsConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.batch.item.support.ListItemReader]: Factory method 'dvdthequeServiceFilmReader' threw exception; nested exception is org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 Internal Server Error: "{"status":"INTERNAL_SERVER_ERROR","timestamp":"30-12-2021 01:52:10","message":"Accès refusé","debugMessage":null,"subErrors":null}"
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	... 31 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'exportFilmsStep' defined in class path resource [fr/fredos/dvdtheque/batch/configuration/BatchExportFilmsConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.batch.core.Step]: Factory method 'exportFilmsStep' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dvdthequeServiceFilmReader' defined in class path resource [fr/fredos/dvdtheque/batch/configuration/BatchExportFilmsConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.batch.item.support.ListItemReader]: Factory method 'dvdthequeServiceFilmReader' threw exception; nested exception is org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 Internal Server Error: "{"status":"INTERNAL_SERVER_ERROR","timestamp":"30-12-2021 01:52:10","message":"Accès refusé","debugMessage":null,"subErrors":null}"
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:353)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.resolveBeanReference(ConfigurationClassEnhancer.java:362)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:334)
	at fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration$$EnhancerBySpringCGLIB$$c9a90129.exportFilmsStep(<generated>)
	at fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration.exportFilmsJob(BatchExportFilmsConfiguration.java:65)
	at fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration$$EnhancerBySpringCGLIB$$c9a90129.CGLIB$exportFilmsJob$2(<generated>)
	at fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration$$EnhancerBySpringCGLIB$$c9a90129$$FastClassBySpringCGLIB$$99d42eef.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)
	at fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration$$EnhancerBySpringCGLIB$$c9a90129.exportFilmsJob(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)
	... 32 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.batch.core.Step]: Factory method 'exportFilmsStep' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dvdthequeServiceFilmReader' defined in class path resource [fr/fredos/dvdtheque/batch/configuration/BatchExportFilmsConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.batch.item.support.ListItemReader]: Factory method 'dvdthequeServiceFilmReader' threw exception; nested exception is org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 Internal Server Error: "{"status":"INTERNAL_SERVER_ERROR","timestamp":"30-12-2021 01:52:10","message":"Accès refusé","debugMessage":null,"subErrors":null}"
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	... 53 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dvdthequeServiceFilmReader' defined in class path resource [fr/fredos/dvdtheque/batch/configuration/BatchExportFilmsConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.batch.item.support.ListItemReader]: Factory method 'dvdthequeServiceFilmReader' threw exception; nested exception is org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 Internal Server Error: "{"status":"INTERNAL_SERVER_ERROR","timestamp":"30-12-2021 01:52:10","message":"Accès refusé","debugMessage":null,"subErrors":null}"
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:353)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.resolveBeanReference(ConfigurationClassEnhancer.java:362)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:334)
	at fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration$$EnhancerBySpringCGLIB$$c9a90129.dvdthequeServiceFilmReader(<generated>)
	at fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration.exportFilmsStep(BatchExportFilmsConfiguration.java:127)
	at fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration$$EnhancerBySpringCGLIB$$c9a90129.CGLIB$exportFilmsStep$1(<generated>)
	at fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration$$EnhancerBySpringCGLIB$$c9a90129$$FastClassBySpringCGLIB$$99d42eef.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)
	at fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration$$EnhancerBySpringCGLIB$$c9a90129.exportFilmsStep(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)
	... 54 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.batch.item.support.ListItemReader]: Factory method 'dvdthequeServiceFilmReader' threw exception; nested exception is org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 Internal Server Error: "{"status":"INTERNAL_SERVER_ERROR","timestamp":"30-12-2021 01:52:10","message":"Accès refusé","debugMessage":null,"subErrors":null}"
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	... 75 common frames omitted
Caused by: org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 Internal Server Error: "{"status":"INTERNAL_SERVER_ERROR","timestamp":"30-12-2021 01:52:10","message":"Accès refusé","debugMessage":null,"subErrors":null}"
	at org.springframework.web.client.HttpServerErrorException.create(HttpServerErrorException.java:100)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:170)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:122)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:819)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:777)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:631)
	at fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration.dvdthequeServiceFilmReader(BatchExportFilmsConfiguration.java:97)
	at fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration$$EnhancerBySpringCGLIB$$c9a90129.CGLIB$dvdthequeServiceFilmReader$4(<generated>)
	at fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration$$EnhancerBySpringCGLIB$$c9a90129$$FastClassBySpringCGLIB$$99d42eef.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)
	at fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration$$EnhancerBySpringCGLIB$$c9a90129.dvdthequeServiceFilmReader(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)
	... 76 common frames omitted
2021-12-30 01:53:08,035 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.2.0.Final
2021-12-30 01:53:09,317 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://localhost:8888
2021-12-30 01:53:10,088 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=dvdtheque-batch, profiles=[local], label=develop, version=0802d0ec89fdf41044cc23f4f610caa152589de7, state=null
2021-12-30 01:53:10,089 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/fredo1975/spring-cloud-server-config.git/file:C:\Users\fredo\AppData\Local\Temp\config-repo-358459055864712684\dvdtheque-batch-local.yml'}]
2021-12-30 01:53:10,107 INFO org.springframework.boot.SpringApplication [main] The following profiles are active: local
2021-12-30 01:53:11,807 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=c0b7960c-0e91-30af-ba61-0f426c680542
2021-12-30 01:53:12,548 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8089 (http)
2021-12-30 01:53:12,609 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8089"]
2021-12-30 01:53:12,610 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2021-12-30 01:53:12,616 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2021-12-30 01:53:12,869 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2021-12-30 01:53:12,869 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2739 ms
2021-12-30 01:53:13,399 INFO fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration [main] ########### exportFilmsJob
2021-12-30 01:53:13,402 INFO fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration [main] ########### exportFilmsStep
2021-12-30 01:53:13,408 INFO fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration [main] ########### ListItemReader
2021-12-30 01:53:13,447 INFO fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration [main] Issued: 2021-12-30T00:53:13.445579600Z, Expires:2021-12-30T00:58:13.445579600Z
2021-12-30 01:53:13,448 INFO fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration [main] Scopes: [profile, email]
2021-12-30 01:53:13,450 INFO fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration [main] Token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJKdEFrSUhjVVVuZXJyUVJaQV9nQm9pQkVSak1DNXB5OE9MQ1h4TlVvQnpZIn0.eyJleHAiOjE2NDA4MjU4OTMsImlhdCI6MTY0MDgyNTU5MywianRpIjoiMTZkM2IxYzctZGRjNS00NWZlLTg0NmUtMmU1NzJiZjc5NjAyIiwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo4MDgwL2F1dGgvcmVhbG1zL2R2ZHRoZXF1ZSIsImF1ZCI6ImFjY291bnQiLCJzdWIiOiIzMmQ0NjZjNy0zNDYxLTQzNjItOTlmNy02ZmY4MGY4ZmUzOWUiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkdmR0aGVxdWUtYXBpIiwiYWNyIjoiMSIsImFsbG93ZWQtb3JpZ2lucyI6WyJodHRwOi8vbG9jYWxob3N0OjgwODMvIl0sInJlYWxtX2FjY2VzcyI6eyJyb2xlcyI6WyJvZmZsaW5lX2FjY2VzcyIsImRlZmF1bHQtcm9sZXMtZHZkdGhlcXVlIiwidW1hX2F1dGhvcml6YXRpb24iXX0sInJlc291cmNlX2FjY2VzcyI6eyJkdmR0aGVxdWUtYXBpIjp7InJvbGVzIjpbInVtYV9wcm90ZWN0aW9uIl19LCJhY2NvdW50Ijp7InJvbGVzIjpbIm1hbmFnZS1hY2NvdW50IiwibWFuYWdlLWFjY291bnQtbGlua3MiLCJ2aWV3LXByb2ZpbGUiXX19LCJzY29wZSI6ImVtYWlsIHByb2ZpbGUiLCJlbWFpbF92ZXJpZmllZCI6ZmFsc2UsImNsaWVudElkIjoiZHZkdGhlcXVlLWFwaSIsImNsaWVudEhvc3QiOiIxMjcuMC4wLjEiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJzZXJ2aWNlLWFjY291bnQtZHZkdGhlcXVlLWFwaSIsImNsaWVudEFkZHJlc3MiOiIxMjcuMC4wLjEifQ.f_zJ97FGWTzAz_RNeNWhrx6sM21vOHSlnnHCjIoKJu1WMdZbP89oH1rt2pveJhJXP-sKXCa3ktf9t7j9fWtO1MJpsWlCTBM9jQzHlTo806R_YxSx2k6nrx1TAaS2UqcEZK0OhbAACcyUxk6kCchdfHIsz0uEBtUS_-eHfC0zg_09GKG0ym4qcV6NwzJJuOnRy2ZWcIj48dPHpNJ7yfeQZPW7_Z6a68N8wx5spi7YwdyCaHa0m1ML3a28mbTo2UHnulwX50wBP5PVVXae04hRHkYBWPjnNyV4YrnYzxLSCMAPRanw3yLxqV2bc-AbZ5TQEurdhk477Y55uttGgUINZg
2021-12-30 01:53:13,539 WARN org.springframework.context.support.AbstractApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jobInvokerController': Unsatisfied dependency expressed through field 'exportFilmsJob'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'exportFilmsJob' defined in class path resource [fr/fredos/dvdtheque/batch/configuration/BatchExportFilmsConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.batch.core.Job]: Factory method 'exportFilmsJob' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'exportFilmsStep' defined in class path resource [fr/fredos/dvdtheque/batch/configuration/BatchExportFilmsConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.batch.core.Step]: Factory method 'exportFilmsStep' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dvdthequeServiceFilmReader' defined in class path resource [fr/fredos/dvdtheque/batch/configuration/BatchExportFilmsConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.batch.item.support.ListItemReader]: Factory method 'dvdthequeServiceFilmReader' threw exception; nested exception is org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 Internal Server Error: "{"status":"INTERNAL_SERVER_ERROR","timestamp":"30-12-2021 01:53:13","message":"Accès refusé","debugMessage":null,"subErrors":null}"
2021-12-30 01:53:13,544 INFO org.apache.juli.logging.DirectJDKLog [main] Stopping service [Tomcat]
2021-12-30 01:53:13,591 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2021-12-30 01:53:13,761 ERROR org.springframework.boot.SpringApplication [main] Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jobInvokerController': Unsatisfied dependency expressed through field 'exportFilmsJob'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'exportFilmsJob' defined in class path resource [fr/fredos/dvdtheque/batch/configuration/BatchExportFilmsConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.batch.core.Job]: Factory method 'exportFilmsJob' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'exportFilmsStep' defined in class path resource [fr/fredos/dvdtheque/batch/configuration/BatchExportFilmsConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.batch.core.Step]: Factory method 'exportFilmsStep' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dvdthequeServiceFilmReader' defined in class path resource [fr/fredos/dvdtheque/batch/configuration/BatchExportFilmsConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.batch.item.support.ListItemReader]: Factory method 'dvdthequeServiceFilmReader' threw exception; nested exception is org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 Internal Server Error: "{"status":"INTERNAL_SERVER_ERROR","timestamp":"30-12-2021 01:53:13","message":"Accès refusé","debugMessage":null,"subErrors":null}"
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:765)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:445)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:338)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at fr.fredos.dvdtheque.batch.BatchApplication.main(BatchApplication.java:14)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'exportFilmsJob' defined in class path resource [fr/fredos/dvdtheque/batch/configuration/BatchExportFilmsConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.batch.core.Job]: Factory method 'exportFilmsJob' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'exportFilmsStep' defined in class path resource [fr/fredos/dvdtheque/batch/configuration/BatchExportFilmsConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.batch.core.Step]: Factory method 'exportFilmsStep' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dvdthequeServiceFilmReader' defined in class path resource [fr/fredos/dvdtheque/batch/configuration/BatchExportFilmsConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.batch.item.support.ListItemReader]: Factory method 'dvdthequeServiceFilmReader' threw exception; nested exception is org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 Internal Server Error: "{"status":"INTERNAL_SERVER_ERROR","timestamp":"30-12-2021 01:53:13","message":"Accès refusé","debugMessage":null,"subErrors":null}"
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:353)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:656)
	... 20 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.batch.core.Job]: Factory method 'exportFilmsJob' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'exportFilmsStep' defined in class path resource [fr/fredos/dvdtheque/batch/configuration/BatchExportFilmsConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.batch.core.Step]: Factory method 'exportFilmsStep' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dvdthequeServiceFilmReader' defined in class path resource [fr/fredos/dvdtheque/batch/configuration/BatchExportFilmsConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.batch.item.support.ListItemReader]: Factory method 'dvdthequeServiceFilmReader' threw exception; nested exception is org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 Internal Server Error: "{"status":"INTERNAL_SERVER_ERROR","timestamp":"30-12-2021 01:53:13","message":"Accès refusé","debugMessage":null,"subErrors":null}"
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	... 31 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'exportFilmsStep' defined in class path resource [fr/fredos/dvdtheque/batch/configuration/BatchExportFilmsConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.batch.core.Step]: Factory method 'exportFilmsStep' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dvdthequeServiceFilmReader' defined in class path resource [fr/fredos/dvdtheque/batch/configuration/BatchExportFilmsConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.batch.item.support.ListItemReader]: Factory method 'dvdthequeServiceFilmReader' threw exception; nested exception is org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 Internal Server Error: "{"status":"INTERNAL_SERVER_ERROR","timestamp":"30-12-2021 01:53:13","message":"Accès refusé","debugMessage":null,"subErrors":null}"
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:353)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.resolveBeanReference(ConfigurationClassEnhancer.java:362)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:334)
	at fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration$$EnhancerBySpringCGLIB$$c9a90129.exportFilmsStep(<generated>)
	at fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration.exportFilmsJob(BatchExportFilmsConfiguration.java:65)
	at fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration$$EnhancerBySpringCGLIB$$c9a90129.CGLIB$exportFilmsJob$2(<generated>)
	at fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration$$EnhancerBySpringCGLIB$$c9a90129$$FastClassBySpringCGLIB$$99d42eef.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)
	at fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration$$EnhancerBySpringCGLIB$$c9a90129.exportFilmsJob(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)
	... 32 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.batch.core.Step]: Factory method 'exportFilmsStep' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dvdthequeServiceFilmReader' defined in class path resource [fr/fredos/dvdtheque/batch/configuration/BatchExportFilmsConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.batch.item.support.ListItemReader]: Factory method 'dvdthequeServiceFilmReader' threw exception; nested exception is org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 Internal Server Error: "{"status":"INTERNAL_SERVER_ERROR","timestamp":"30-12-2021 01:53:13","message":"Accès refusé","debugMessage":null,"subErrors":null}"
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	... 53 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dvdthequeServiceFilmReader' defined in class path resource [fr/fredos/dvdtheque/batch/configuration/BatchExportFilmsConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.batch.item.support.ListItemReader]: Factory method 'dvdthequeServiceFilmReader' threw exception; nested exception is org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 Internal Server Error: "{"status":"INTERNAL_SERVER_ERROR","timestamp":"30-12-2021 01:53:13","message":"Accès refusé","debugMessage":null,"subErrors":null}"
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:353)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.resolveBeanReference(ConfigurationClassEnhancer.java:362)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:334)
	at fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration$$EnhancerBySpringCGLIB$$c9a90129.dvdthequeServiceFilmReader(<generated>)
	at fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration.exportFilmsStep(BatchExportFilmsConfiguration.java:127)
	at fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration$$EnhancerBySpringCGLIB$$c9a90129.CGLIB$exportFilmsStep$3(<generated>)
	at fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration$$EnhancerBySpringCGLIB$$c9a90129$$FastClassBySpringCGLIB$$99d42eef.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)
	at fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration$$EnhancerBySpringCGLIB$$c9a90129.exportFilmsStep(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)
	... 54 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.batch.item.support.ListItemReader]: Factory method 'dvdthequeServiceFilmReader' threw exception; nested exception is org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 Internal Server Error: "{"status":"INTERNAL_SERVER_ERROR","timestamp":"30-12-2021 01:53:13","message":"Accès refusé","debugMessage":null,"subErrors":null}"
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	... 75 common frames omitted
Caused by: org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 Internal Server Error: "{"status":"INTERNAL_SERVER_ERROR","timestamp":"30-12-2021 01:53:13","message":"Accès refusé","debugMessage":null,"subErrors":null}"
	at org.springframework.web.client.HttpServerErrorException.create(HttpServerErrorException.java:100)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:170)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:122)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:819)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:777)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:631)
	at fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration.dvdthequeServiceFilmReader(BatchExportFilmsConfiguration.java:97)
	at fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration$$EnhancerBySpringCGLIB$$c9a90129.CGLIB$dvdthequeServiceFilmReader$1(<generated>)
	at fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration$$EnhancerBySpringCGLIB$$c9a90129$$FastClassBySpringCGLIB$$99d42eef.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)
	at fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration$$EnhancerBySpringCGLIB$$c9a90129.dvdthequeServiceFilmReader(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)
	... 76 common frames omitted
2021-12-30 02:10:33,808 INFO org.hibernate.validator.internal.util.Version [background-preinit] HV000001: Hibernate Validator 6.2.0.Final
2021-12-30 02:10:34,818 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Fetching config from server at : http://localhost:8888
2021-12-30 02:10:35,378 INFO org.springframework.cloud.config.client.ConfigServicePropertySourceLocator [main] Located environment: name=dvdtheque-batch, profiles=[local], label=develop, version=b5ab1a27ba1a792d5ffa02e5bd426c398aa79fc7, state=null
2021-12-30 02:10:35,379 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: [BootstrapPropertySource {name='bootstrapProperties-configClient'}, BootstrapPropertySource {name='bootstrapProperties-https://github.com/fredo1975/spring-cloud-server-config.git/file:C:\Users\fredo\AppData\Local\Temp\config-repo-358459055864712684\dvdtheque-batch-local.yml'}]
2021-12-30 02:10:35,483 INFO org.springframework.boot.SpringApplication [main] The following profiles are active: local
2021-12-30 02:10:36,862 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=c0b7960c-0e91-30af-ba61-0f426c680542
2021-12-30 02:10:37,457 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8089 (http)
2021-12-30 02:10:37,472 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8089"]
2021-12-30 02:10:37,482 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2021-12-30 02:10:37,496 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.56]
2021-12-30 02:10:37,750 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2021-12-30 02:10:37,751 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2238 ms
2021-12-30 02:10:38,141 INFO fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration [main] ########### exportFilmsJob
2021-12-30 02:10:38,143 INFO fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration [main] ########### exportFilmsStep
2021-12-30 02:10:38,148 INFO fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration [main] ########### ListItemReader
2021-12-30 02:10:38,177 INFO fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration [main] Issued: 2021-12-30T01:10:38.174464900Z, Expires:2021-12-30T01:15:38.174464900Z
2021-12-30 02:10:41,635 INFO fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration [main] Scopes: [profile, email]
2021-12-30 02:10:44,886 INFO fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration [main] Token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJKdEFrSUhjVVVuZXJyUVJaQV9nQm9pQkVSak1DNXB5OE9MQ1h4TlVvQnpZIn0.eyJleHAiOjE2NDA4MjY5MzgsImlhdCI6MTY0MDgyNjYzOCwianRpIjoiZDQyZjMzZGEtYTg4MC00MGZlLThlZDQtMjgxNWQ2NDIyNWI3IiwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo4MDgwL2F1dGgvcmVhbG1zL2R2ZHRoZXF1ZSIsImF1ZCI6ImFjY291bnQiLCJzdWIiOiIzMmQ0NjZjNy0zNDYxLTQzNjItOTlmNy02ZmY4MGY4ZmUzOWUiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkdmR0aGVxdWUtYXBpIiwiYWNyIjoiMSIsImFsbG93ZWQtb3JpZ2lucyI6WyJodHRwOi8vbG9jYWxob3N0OjgwODMvIl0sInJlYWxtX2FjY2VzcyI6eyJyb2xlcyI6WyJvZmZsaW5lX2FjY2VzcyIsImRlZmF1bHQtcm9sZXMtZHZkdGhlcXVlIiwidW1hX2F1dGhvcml6YXRpb24iXX0sInJlc291cmNlX2FjY2VzcyI6eyJkdmR0aGVxdWUtYXBpIjp7InJvbGVzIjpbInVtYV9wcm90ZWN0aW9uIl19LCJhY2NvdW50Ijp7InJvbGVzIjpbIm1hbmFnZS1hY2NvdW50IiwibWFuYWdlLWFjY291bnQtbGlua3MiLCJ2aWV3LXByb2ZpbGUiXX19LCJzY29wZSI6ImVtYWlsIHByb2ZpbGUiLCJlbWFpbF92ZXJpZmllZCI6ZmFsc2UsImNsaWVudElkIjoiZHZkdGhlcXVlLWFwaSIsImNsaWVudEhvc3QiOiIxMjcuMC4wLjEiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJzZXJ2aWNlLWFjY291bnQtZHZkdGhlcXVlLWFwaSIsImNsaWVudEFkZHJlc3MiOiIxMjcuMC4wLjEifQ.PQy6H2pizc1OSe12euru-ONu0fTOXX3UyRYNWQ7O3kHXxZs30Qgi7LHt2YVp2JtjoT7CNHdsFJ1AWj0-JEGImwx2iJvEd72xD9O695FUcoWZgQY5amSFUdFJ2-V1Jz4qE2wbLIPNTsluV8HzLOxprZ82z_Vn9xqJFsbMnM1rqQVAeUE_hmu_uV9bUb543ntZpK1SE6sp589dFD3bmx4AAcGRjHc-aOtdxTOsRniXikj56fOXiCi7h88x4SR8llJQEjMZAkb-eXuMK-_-LrufNIE3QBe6HVuvdxORW6BVP_m24h7lRi1R7lhp1i3hFGmdMWUIj4V_UWgzJeOsrzfBEw
2021-12-30 02:11:07,794 WARN org.springframework.context.support.AbstractApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jobInvokerController': Unsatisfied dependency expressed through field 'exportFilmsJob'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'exportFilmsJob' defined in class path resource [fr/fredos/dvdtheque/batch/configuration/BatchExportFilmsConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.batch.core.Job]: Factory method 'exportFilmsJob' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'exportFilmsStep' defined in class path resource [fr/fredos/dvdtheque/batch/configuration/BatchExportFilmsConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.batch.core.Step]: Factory method 'exportFilmsStep' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dvdthequeServiceFilmReader' defined in class path resource [fr/fredos/dvdtheque/batch/configuration/BatchExportFilmsConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.batch.item.support.ListItemReader]: Factory method 'dvdthequeServiceFilmReader' threw exception; nested exception is org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 Internal Server Error: "{"status":"INTERNAL_SERVER_ERROR","timestamp":"30-12-2021 02:11:06","message":"Accès refusé","debugMessage":null,"subErrors":null}"
2021-12-30 02:11:07,804 INFO org.apache.juli.logging.DirectJDKLog [main] Stopping service [Tomcat]
2021-12-30 02:11:07,864 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [main] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2021-12-30 02:11:07,927 ERROR org.springframework.boot.SpringApplication [main] Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jobInvokerController': Unsatisfied dependency expressed through field 'exportFilmsJob'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'exportFilmsJob' defined in class path resource [fr/fredos/dvdtheque/batch/configuration/BatchExportFilmsConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.batch.core.Job]: Factory method 'exportFilmsJob' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'exportFilmsStep' defined in class path resource [fr/fredos/dvdtheque/batch/configuration/BatchExportFilmsConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.batch.core.Step]: Factory method 'exportFilmsStep' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dvdthequeServiceFilmReader' defined in class path resource [fr/fredos/dvdtheque/batch/configuration/BatchExportFilmsConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.batch.item.support.ListItemReader]: Factory method 'dvdthequeServiceFilmReader' threw exception; nested exception is org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 Internal Server Error: "{"status":"INTERNAL_SERVER_ERROR","timestamp":"30-12-2021 02:11:06","message":"Accès refusé","debugMessage":null,"subErrors":null}"
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:765)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:445)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:338)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343)
	at fr.fredos.dvdtheque.batch.BatchApplication.main(BatchApplication.java:14)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'exportFilmsJob' defined in class path resource [fr/fredos/dvdtheque/batch/configuration/BatchExportFilmsConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.batch.core.Job]: Factory method 'exportFilmsJob' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'exportFilmsStep' defined in class path resource [fr/fredos/dvdtheque/batch/configuration/BatchExportFilmsConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.batch.core.Step]: Factory method 'exportFilmsStep' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dvdthequeServiceFilmReader' defined in class path resource [fr/fredos/dvdtheque/batch/configuration/BatchExportFilmsConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.batch.item.support.ListItemReader]: Factory method 'dvdthequeServiceFilmReader' threw exception; nested exception is org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 Internal Server Error: "{"status":"INTERNAL_SERVER_ERROR","timestamp":"30-12-2021 02:11:06","message":"Accès refusé","debugMessage":null,"subErrors":null}"
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:353)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:656)
	... 20 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.batch.core.Job]: Factory method 'exportFilmsJob' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'exportFilmsStep' defined in class path resource [fr/fredos/dvdtheque/batch/configuration/BatchExportFilmsConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.batch.core.Step]: Factory method 'exportFilmsStep' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dvdthequeServiceFilmReader' defined in class path resource [fr/fredos/dvdtheque/batch/configuration/BatchExportFilmsConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.batch.item.support.ListItemReader]: Factory method 'dvdthequeServiceFilmReader' threw exception; nested exception is org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 Internal Server Error: "{"status":"INTERNAL_SERVER_ERROR","timestamp":"30-12-2021 02:11:06","message":"Accès refusé","debugMessage":null,"subErrors":null}"
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	... 31 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'exportFilmsStep' defined in class path resource [fr/fredos/dvdtheque/batch/configuration/BatchExportFilmsConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.batch.core.Step]: Factory method 'exportFilmsStep' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dvdthequeServiceFilmReader' defined in class path resource [fr/fredos/dvdtheque/batch/configuration/BatchExportFilmsConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.batch.item.support.ListItemReader]: Factory method 'dvdthequeServiceFilmReader' threw exception; nested exception is org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 Internal Server Error: "{"status":"INTERNAL_SERVER_ERROR","timestamp":"30-12-2021 02:11:06","message":"Accès refusé","debugMessage":null,"subErrors":null}"
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:353)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.resolveBeanReference(ConfigurationClassEnhancer.java:362)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:334)
	at fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration$$EnhancerBySpringCGLIB$$eff3c7dc.exportFilmsStep(<generated>)
	at fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration.exportFilmsJob(BatchExportFilmsConfiguration.java:65)
	at fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration$$EnhancerBySpringCGLIB$$eff3c7dc.CGLIB$exportFilmsJob$4(<generated>)
	at fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration$$EnhancerBySpringCGLIB$$eff3c7dc$$FastClassBySpringCGLIB$$be59ecda.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)
	at fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration$$EnhancerBySpringCGLIB$$eff3c7dc.exportFilmsJob(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)
	... 32 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.batch.core.Step]: Factory method 'exportFilmsStep' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dvdthequeServiceFilmReader' defined in class path resource [fr/fredos/dvdtheque/batch/configuration/BatchExportFilmsConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.batch.item.support.ListItemReader]: Factory method 'dvdthequeServiceFilmReader' threw exception; nested exception is org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 Internal Server Error: "{"status":"INTERNAL_SERVER_ERROR","timestamp":"30-12-2021 02:11:06","message":"Accès refusé","debugMessage":null,"subErrors":null}"
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	... 53 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dvdthequeServiceFilmReader' defined in class path resource [fr/fredos/dvdtheque/batch/configuration/BatchExportFilmsConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.batch.item.support.ListItemReader]: Factory method 'dvdthequeServiceFilmReader' threw exception; nested exception is org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 Internal Server Error: "{"status":"INTERNAL_SERVER_ERROR","timestamp":"30-12-2021 02:11:06","message":"Accès refusé","debugMessage":null,"subErrors":null}"
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:353)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.resolveBeanReference(ConfigurationClassEnhancer.java:362)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:334)
	at fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration$$EnhancerBySpringCGLIB$$eff3c7dc.dvdthequeServiceFilmReader(<generated>)
	at fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration.exportFilmsStep(BatchExportFilmsConfiguration.java:127)
	at fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration$$EnhancerBySpringCGLIB$$eff3c7dc.CGLIB$exportFilmsStep$2(<generated>)
	at fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration$$EnhancerBySpringCGLIB$$eff3c7dc$$FastClassBySpringCGLIB$$be59ecda.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)
	at fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration$$EnhancerBySpringCGLIB$$eff3c7dc.exportFilmsStep(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)
	... 54 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.batch.item.support.ListItemReader]: Factory method 'dvdthequeServiceFilmReader' threw exception; nested exception is org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 Internal Server Error: "{"status":"INTERNAL_SERVER_ERROR","timestamp":"30-12-2021 02:11:06","message":"Accès refusé","debugMessage":null,"subErrors":null}"
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	... 75 common frames omitted
Caused by: org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 Internal Server Error: "{"status":"INTERNAL_SERVER_ERROR","timestamp":"30-12-2021 02:11:06","message":"Accès refusé","debugMessage":null,"subErrors":null}"
	at org.springframework.web.client.HttpServerErrorException.create(HttpServerErrorException.java:100)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:170)
	at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:122)
	at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)
	at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:819)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:777)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:631)
	at fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration.dvdthequeServiceFilmReader(BatchExportFilmsConfiguration.java:97)
	at fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration$$EnhancerBySpringCGLIB$$eff3c7dc.CGLIB$dvdthequeServiceFilmReader$1(<generated>)
	at fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration$$EnhancerBySpringCGLIB$$eff3c7dc$$FastClassBySpringCGLIB$$be59ecda.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)
	at fr.fredos.dvdtheque.batch.configuration.BatchExportFilmsConfiguration$$EnhancerBySpringCGLIB$$eff3c7dc.dvdthequeServiceFilmReader(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)
	... 76 common frames omitted
